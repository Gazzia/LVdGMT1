function round(e,t){var r=Math.pow(10,t||0);return Math.round(e*r)/r}const random=(e,t)=>Math.floor(Math.random()*(t-e+1))+e,delay=(e,t,...r)=>setTimeout(e,t,...r);var player=new Player,bob=new NPC({name:"Bob",race:"Human",genre:"m",money:10});time.start(),game.loadPage(0),$("nav.gameMenu").on("click",function(){modalList.devModal()});var files={paramsToSave:{get game_pageID(){return game.pageID},set game_pageID(e){game.pageID=e},get game_page_sceneID(){return game.page.sceneID},set game_page_sceneID(e){game.page.sceneID=e},get events(){return Events},set events(e){Events=e},get time_hours(){return time.hours},set time_hours(e){time.hours=e},get time_minutes(){return time.minutes},set time_minutes(e){time.minutes=e},get time_daysPlayed(){return time.daysPlayed},set time_daysPlayed(e){time.daysPlayed=e},get player_name(){return player.name},set player_name(e){player.name=e},get player_genre(){return player.genre},set player_genre(e){player.genre=e},get player_money(){return player.money.total},set player_money(e){player.money.total=e},get player_currentHP(){return player.health.current},set player_currentHP(e){player.health.current=e},get player_maxHP(){return player.health.max},set player_maxHP(e){player.health.max=e},get player_inv_itemList(){return player.inv._itemList},set player_inv_itemList(e){player.inv._itemList=e}},save(){for(param in this.paramsToSave)localStorage[`save_${param}`]=JSON.stringify(this.paramsToSave[param]);console.info("Jeu sauvegardé !")},load(){for(param in modal.close(),closeAllNotifications(),this.paramsToSave)this.paramsToSave[param]=JSON.parse(localStorage[`save_${param}`]);time.refreshPeriod(),time.refreshClocks(),game.loadPage(game.pageID),console.info("Jeu chargé !")}};function toggle_color(e,t,r){var a=document.querySelector(e),n=a.style.backgroundColor;setTransitionDurations(a,r),a.style.backgroundColor=a.style.backgroundColor===n?t:n,console.log(a.style.backgroundColor)}function getStringFromMs(e){return e+"ms"}function setTransitionDurations(e,t){var r=getStringFromMs(t);["-webkit","-o","-moz"].forEach(function(t){e.style.setProperty(t+"-transition-duration",r)}),e.style.transitionDuration=r}function clickOnTrigger(e){var t=e.target.dataset.trigger,r=game.scene.triggers;if(1===e.which){for(trigger in r)if(t==r[trigger].trigText)for(action in $("#actionmenu ul").html(""),$("#actionmenu header").html(`Actions sur <b>${r[trigger].showName}</b>`),r[trigger].actions)$("#actionmenu ul").append(`<li class="${r[trigger].actions[action].style}" onclick="game.scene.triggers[${trigger}].actions[${action}].script();">${r[trigger].actions[action].name}</li>`);$("#actionmenu").css({display:"block",left:e.pageX-parseInt($("#actionmenu").css("min-width"),10)/2,top:e.pageY+5,animation:"open-actionmenu .3s ease forwards"})}else if(3===e.which)for(trigger in r)t==r[trigger].trigText&&r[trigger].RClick&&r[trigger].RClick()}function rightClickOnTrigger(e){var t=e.target.dataset.trigger,r=game.scene.triggers;for(trigger in r)t==r[trigger].trigText&&r[trigger].RClick&&r[trigger].RClick()}!function(){Element.prototype.sdrag=function(e,t,r){var a=0,n=0,i=this,o=!1;function s(t){var o={};if(e&&e(i,t.pageX,a,t.pageY,n,o),"vertical"!==r){var s="pageX"in o?o.pageX:t.pageX;"startX"in o&&(a=o.startX),0=="skipX"in o&&(i.style.left=s-a+"px")}if("horizontal"!==r){var g="pageY"in o?o.pageY:t.pageY;"startY"in o&&(n=o.startY),0=="skipY"in o&&(i.style.top=g-n+"px")}}this.addEventListener("mousedown",function(e){if(!(e.currentTarget instanceof HTMLElement||e.currentTarget instanceof SVGElement))throw new Error("Your target must be an html element");o=!0;var t=i.style.left?parseInt(i.style.left):0,r=i.style.top?parseInt(i.style.top):0;a=e.pageX-t,n=e.pageY-r,window.addEventListener("mousemove",s)}),window.addEventListener("mouseup",function(e){!0===o&&(o=!1,window.removeEventListener("mousemove",s),t&&t(i,e.pageX,a,e.pageY,n))})}}(),document.querySelectorAll("#actionmenu")[0].sdrag(),$(document).on("contextmenu",function(){return!1}),$("#actionmenu").on("click",function(e){e.stopPropagation(),$(e.target||e.srcElement).is("li")&&$("#actionmenu").css("display","")}),$(document).on("click",function(e){e.target!=$("#actionmenu")&&$("#actionmenu").css("display","")}),$(document).on("click",".click",function(e){e.stopPropagation(),clickOnTrigger(e)});
//# sourceMappingURL=scripts.js.map