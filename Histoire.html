<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<link rel="shortcut icon" type="image/png" href="images/icone.png" />
	<title>GMT - Errance</title>
	<link rel="stylesheet" type="text/css" href="css/styles.css"/>
	<link rel="stylesheet" type="text/css" href="css/jquery/jquery-ui.css">
  <script src="https://code.jquery.com/jquery-3.3.0.min.js"></script>
  <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>
	<script src="js/jquery/mousewheel.js"></script>
	<link href="https://fonts.googleapis.com/css?family=Playfair+Display|Vollkorn|Didact+Gothic|Slabo+27px" rel="stylesheet">
	<script src="js/svgvar.js"></script>
	<script src="js/data/items.js"></script>
	<script src="js/data/ench.js"></script>
	<script>
		$(function(){
			$(document).tooltip({classes: {"ui-tooltip": "black_tooltip"},	track:true});
		});
	</script>
</head>
<body>
		<!-- Composition de l'arrière-plan -->
	<div id="uiBG" class="fullscreen maxspace">
		<div id="uiBG_cloudsFG" class="uiBG_clouds"></div><div id="uiBG_cloudsBG" class="uiBG_clouds"></div>
		<img id="UIBG_imgFullFG" class="UIBG_imgFG UIBG_img maxheight"> <img id="UIBG_imgFull" class="UIBG_imgFull UIBG_img UIBG_imgsBG maxwidth"> <img id="UIBG_imgFullBG" class="UIBG_imgFullBG UIBG_imgFull UIBG_img UIBG_imgsBG maxwidth">
		<img id="propMouches" class="bgProp" src="images/bg/prop/mouches3.gif">
	</div>
	<div class="minimap">
		<img src="images/map/Merry1.png" class="carte">
		<div class="mapPosition">▲</div>
	</div>
		<!-- Interface de base au milieu de l'écran -->
	<div id="uiFG" class="midscreen maxheight">
		<div class="maxwidth uiFG_top"></div>
		<div class="maxwidth uiFG_mid">
			<!-- Bloc de l'histoire -->
			<div class="leftblock fullblock">
				<header id="histoireTitle" class="leftblock_title titles">Errance</header>
				<main class="maxwidth">
					<div class="guill left">“</div>
					<p id="histoire" class="histoire"></p>
					<div class="guill right">”</div>
				</main>
				<footer class="maxwidth">
					<a class="expandBtn" onclick="expandHistoireBlock()">Agrandir</a>
				</footer>
			</div>
			<!-- Bloc des actions -->
			<div class="rightblock fullblock">
				<div class="rightblock_title titles">ACTIONS</div>
				<div class="scrollMidRight scroll">
				<div id="actions" class="actions">
						<div id="actWalk" class="actionsCat">
							<div class="title">
								<img class="title_Img" src="images/UI/actions/walk.png">
								<h2 class="title_Text">Déplacement</h2>
							</div>
							<div id="actWalkActions" class="actionGroup">
							</div>
						</div>
						<div id="actTake" class="actionsCat">
							<div class="title">
								<img class="title_Img" src="images/UI/actions/take.png">
								<h2 class="title_Text">Prendre</h2>
							</div>
							<div id="actTakeActions" class="actionGroup">
							</div>
						</div>
						<div id="actUse" class="actionsCat">
							<div class="title">
								<img class="title_Img" src="images/UI/actions/use.png">
								<h2 class="title_Text">Utiliser</h2>
							</div>
							<div id="actUseActions" class="actionGroup">
							</div>
						</div>
						<div id="actTalk" class="actionsCat">
							<div class="title">
								<img class="title_Img" src="images/UI/actions/talk.png">
								<h2 class="title_Text">Parler</h2>
							</div>
							<div id="actTalkActions" class="actionGroup">
							</div>
						</div>
						<div id="actFight" class="actionsCat">
							<div class="title">
								<img class="title_Img" src="images/UI/actions/fight.png">
								<h2 class="title_Text">Attaquer</h2>
							</div>
							<div id="actFightActions" class="actionGroup">
							</div>
						</div>
						<div id="actGive" class="actionsCat">
							<div class="title">
								<img class="title_Img" src="images/UI/actions/give.png">
								<h2 class="title_Text">Donner</h2>
							</div>
							<div id="actGiveActions" class="actionGroup">
							</div>
						</div>
						<div id="actDivers" class="actionsCat">
							<div class="title">
								<img class="title_Img" src="images/UI/actions/divers.png">
								<h2 class="title_Text">Divers</h2>
							</div>
							<div id="actDiversActions" class="actionGroup">
							</div>
						</div>
						<div id="actLook" class="actionsCat">
							<div class="title">
								<img class="title_Img" src="images/UI/actions/look.png">
								<h2 class="title_Text">Observer</h2>
							</div>
							<div id="actLookActions" class="actionGroup">
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<!-- Bloc du bas -->
		<div class="maxwidth uiFG_bot">
			<div class="topBlock maxwidth">
				<!-- Boutons de navigation (inventaire par ex) -->
				<nav class="topBlock_nav">
					<a id="btnInv" class="navBtns" title="Inventaire (I)" onclick="openInventory()"></a>
					<a id="btnMap" class="navBtns" title="Carte >" href="Map.html"></a>
				</nav>
				<!-- Nom et Race du joueur -->
				<div class="topBlock_plCont maxheight">
					<div id="topBlock_plPseudo" class="topBlock_plInfo maxwidth pseudo"></div>
					<div id="topBlock_plRace" class="topBlock_plInfo maxwidth">Ferré du soufflant</div>
				</div>
			</div>
			<div class="botBlock maxwidth">
				<!-- Vie du joueur -->
				<div id="plHealthText"></div>
				<div id="plHealthBar"></div>
				<!-- Or du joueur -->
				<div class="goldContainer" title="Richesse">
					<img class="goldIcon" src="images/icons/UI/gold.png">
					<div id="plGold">
				</div>
			</div>
		</div>
	</div>
</div>
	<div id="dialoglayer1" title="" style="display:none">
		<img id="dialoglayer1Img" class="dialogImg">
		<p id="dialoglayer1Text"></p>
	</div>
	<div id="getitem" style="display:none">
	   <img id="getitemImg" class="dialogImg">
			 <p id="getitemText"></p>
  </div>

	<!-- Panneau d'info et de config à droite -->
	<a class="asideRightOpener">
		<svg id="openAsideRight" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 20 20">
		  <path d="M0 3h20v2H0V3zm0 4h20v2H0V7zm0 4h20v2H0v-2zm0 4h20v2H0v-2z"/>
		</svg>
		<svg id="UIToggle" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 20 20"><path d="M11 11v6h6v-6h-6zm0-2h6V3h-6v6zm-2 2H3v6h6v-6zm0-2V3H3v6h6zm-8 9V1h18v18H1v-1z"/></svg>
	</a>
	<aside class="asideRight maxheight">
		<nav class="asideRight_nav maxheight">
			<div class="top">
				<a class="icons close maxwidth_rel"></a>
			</div>
			<div class="mid">
				<a id="openMenuCarac" class="icons active maxwidth_rel" onclick="makeActive('Carac')"></a>
				<a id="openMenuStats" class="icons maxwidth_rel" onclick="makeActive('Stats')"></a>
			</div>
			<div class="bot">
				<a id="openMenuOptions" class="icons maxwidth_rel" onclick="makeActive('Options')"></a>
			</div>
		</nav>
		<div id="menuCarac" class="menus maxheight">
			<header>
				CARACTÉRISTIQUES
				<hr class="hr2">
			</header>
			<main>
				<div class='block statForce'>
					<div class="img"></div>
					<div class= 'total'>10</div>
					<div class="nb">
					</div>
				</div>
				<div class='block statFesse'>
					<div class="img"></div>
					<div class= 'total'>10</div>
					<div class="nb">
					</div>
				</div>
				<div class='block statChar'>
					<div class="img"></div>
					<div class= 'total'>10</div>
					<div class="nb">
					</div>
				</div>
				<div class='block statDex'>
					<div class="img"></div>
					<div class= 'total'>10</div>
					<div class="nb">
					</div>
				</div>
				<div class='block statSag'>
					<div class="img"></div>
					<div class= 'total'>10</div>
					<div class="nb">
					</div>
				</div>
				<div class='block statInt'>
					<div class="img"></div>
					<div class= 'total'>10</div>
					<div class="nb">
					</div>
				</div>
			</main>
		</div>
		<div id="menuStats" class="menus maxheight" style="display:none">
			<header>
				STATS
				<hr class="hr2">
			</header>
			<main>
			</main>
		</div>
		<div id="menuOptions" class="menus maxheight" style="display:none">
			<header>
				OPTIONS
				<hr class="hr2">
			</header>
			<main>
			</main>
		</div>
	</aside>

	<div class="townBanner maxwidth"></div>
	<!-- Masques foncés sur la page, en dessous d'une overlay -->
	<div class="mask light brown maxspace"></div>
	<div class="mask deep lightgrey maxspace"></div>

	<!-- Fenêtre de dialogue (Inspection, messages, etc), caché à gauche par défaut -->
	<div id="dialog">
		<div class="icon"></div>
		<div class="shadow">
			<div class="content maxheight">
				<header class="title"> <!-- Titre dialogue --> </header>
				<main class="textbox maxwidth">
					<div class="text scroll">
						<!--Texte dialogue -->
					</div>
				</main>
				<footer class="buttonset">
					<a class="nb1"></a>
					<a class="nb2"></a>
					<a class="nb3"></a>
					<a class="nb4"></a>
				</footer>
			</div>
			<div class="image maxheight"></div>
		</div>
	</div>
	<!-- Mini popup de transactions -->
	<div id="transactions">
		<div class="title maxwidth">Transaction</div>
		<div class="gold maxwidth"></div>
	</div>
	<!-- Inventaire -->
	<div id="InvLPane" class="invPanes">
		<div id="InvLPane_Left" class="maxheight">
			<header id="InvLPane_LeftHeader" class="LLPaneBlock bar maxwidth_rel">
				<span id="pseudo" class="pseudo titleLL"></span>
				<div id="plHealthBar_inv"></div>
			</header>
			<div id="InvLPane_LeftArmorBlock" class="LLPaneBlock bar maxwidth_rel">
				<div class="blockItem maxwidth_rel">
					<span class="EquippedType maxheight">Tête</span>
					<div id="EquippedIcon_head" class="EquippedIcon maxheight"></div>
				</div>
				<div class="blockItem maxwidth_rel">
					<span class="EquippedType maxheight">Torse</span>
					<div id="EquippedIcon_torse" class="EquippedIcon maxheight"></div>
				</div>
				<div class="blockItem maxwidth_rel">
					<span class="EquippedType maxheight">Jambes</span>
					<div id="EquippedIcon_leg" class="EquippedIcon maxheight"></div>
				</div>
				<div class="blockItem maxwidth_rel">
					<span class="EquippedType maxheight">Pieds</span>
					<div id="EquippedIcon_foot" class="EquippedIcon maxheight"></div>
				</div>
			</div>
			<div id="InvLPane_LeftWeaponBlock" class="LLPaneBlock maxwidth_rel bar">
				<div class="blockItem maxwidth_rel">
					<div id="weaponLeftHSymbol" class="itemSymbol"></div>
					<div id="EquippedIcon_arme" class="EquippedIcon maxheight"></div>
					<div id="weaponRightHSymbol" class="itemSymbol"></div>
					<div id="EquippedIcon_arme_right" class="EquippedIcon maxheight"></div>
				</div>
			</div>
			<div id="InvLPane_LeftEquippableBlock" class="LLPaneBlock maxwidth_rel">
				<div class="blockItem maxwidth_rel">
					<span class="EquippedType maxheight">Collier</span>
					<div id="EquippedIcon_equippable_collar" class="EquippedIcon maxheight"></div>
				</div>
				<div class="blockItem maxwidth_rel">
					<span class="EquippedType maxheight">Bracelet</span>
					<div id="EquippedIcon_equippable_wrist" class="EquippedIcon maxheight"></div>
				</div>
				<div class="blockItem maxwidth_rel">
					<span class="EquippedType maxheight ringsTitle">Anneaux</span>
					<div id="EquippedIcon_equippable_ring1" class="EquippedIcon maxheight ringsBoxes"></div>
					<div id="EquippedIcon_equippable_ring2" class="EquippedIcon maxheight ringsBoxes"></div>
					<div id="EquippedIcon_equippable_ring3" class="EquippedIcon maxheight ringsBoxes"></div>
					<div id="EquippedIcon_equippable_ring4" class="EquippedIcon maxheight ringsBoxes"></div>
				</div>
			</div>
		</div>
		<div id="InvLPane_Right">
			<a id="invOpen_arme" class="btnInv nm openable">Armes</a>
			<a id="invOpen_tool" class="btnInv nm openable">Outils</a>
			<a class="btnInv nm title">Armures -</a>
				<a id="invOpen_head" class="btnInv sm openable">Tête</a>
				<a id="invOpen_torse" class="btnInv sm openable">Torse</a>
				<a id="invOpen_leg" class="btnInv sm openable">Jambes</a>
				<a id="invOpen_foot" class="btnInv sm openable">Pieds</a>
			<a class="btnInv nm title">Équipables -</a>
				<a id="invOpen_collar" class="btnInv sm openable">Colliers</a>
				<a id="invOpen_wrist" class="btnInv sm openable">Bracelets</a>
				<a id="invOpen_ring" class="btnInv sm openable">Anneaux</a>
			<a class="btnInv nm title">Consommables -</a>
				<a id="invOpen_food" class="btnInv sm openable">Nourriture</a>
				<a id="invOpen_potion" class="btnInv sm openable">Potions</a>
			<a id="invOpen_ingr" class="btnInv nm openable">Ingrédients</a>
			<a id="invOpen_divers" class="btnInv nm openable">Objets</a>
		</div>
	</div>
	<div id="InvTRPane" class="invPanes">
		<div id="InvTR_arme" class="InvFolders maxspace"></div>
		<div id="InvTR_tool" class="InvFolders maxspace"></div>
		<div id="InvTR_head" class="InvFolders maxspace"></div>
		<div id="InvTR_torse" class="InvFolders maxspace"></div>
		<div id="InvTR_leg" class="InvFolders maxspace"></div>
		<div id="InvTR_foot" class="InvFolders maxspace"></div>
		<div id="InvTR_collar" class="InvFolders maxspace"></div>
		<div id="InvTR_wrist" class="InvFolders maxspace"></div>
		<div id="InvTR_ring" class="InvFolders maxspace"></div>
		<div id="InvTR_food" class="InvFolders maxspace"></div>
		<div id="InvTR_potion" class="InvFolders maxspace"></div>
		<div id="InvTR_ingr" class="InvFolders maxspace"></div>
		<div id="InvTR_divers" class="InvFolders maxspace"></div>
	</div>
	<div id="InvBRPane" class="invPanes">
		<header id="InvBRPane_Title"></header>
		<main id="InvBRPane_Content">
			<div id="InvBRPane_Desc" class="InvBRPane_ContentSub maxwidth_rel underlined"></div>
			<div id="InvBRPane_Dmg" class="InvBRPane_ContentSub maxwidth_rel underlined"></div>
			<div id="InvBRPane_Pow" class="InvBRPane_ContentSub maxwidth_rel"></div>
		</main>
		<aside id="InvBRPane_Image"></aside>
	</div>
	<div id="dialogueWindow" class="maxspace">
		<aside class="image maxheight"></aside>
		<main class="mainblock maxheight">
			<div class="bubble"></div>
			<div class="choix">
				<a id="dial_Quit"></a>
			</div>
		</main>
	</div>
	<audio autoplay="true" loop controls id="playerEnvB"></audio>
	<audio autoplay="true" loop controls id="playerEnvF"></audio>
	<audio autoplay="true" controls id="playerMusic"></audio>
	<audio autoplay="true" controls id="playerUI"></audio>
<!-- SCRIPTS ---------------------------------------------------------->
<script>
$('.openable').append('<a class="arrowRight icon right"></a>');

//mousewheel jquery
$(".scroll").bind("mousewheel",function(ev, delta) {
    var scrollTop = $(this).scrollTop();
    $(this).scrollTop(scrollTop-Math.round(delta));
});

//show-hide UI
var UIvisibility = 1;
$('#UIToggle').click(function(){
	if (UIvisibility==1){
		$(".midscreen").toggleClass('hiddenTop');$(".minimap").delay(300).toggle(500);
		$("#UIToggle").html('<path d="M1 1h2v2H1V1zm0 4h2v2H1V5zm0 4h2v2H1V9zm0 4h2v2H1v-2zm0 4h2v2H1v-2zM5 1h2v2H5V1zm0 8h2v2H5V9zm0 8h2v2H5v-2zM9 1h2v2H9V1zm0 4h2v2H9V5zm0 4h2v2H9V9zm0 4h2v2H9v-2zm0 4h2v2H9v-2zm4-16h2v2h-2V1zm0 8h2v2h-2V9zm0 8h2v2h-2v-2zm4-16h2v2h-2V1zm0 4h2v2h-2V5zm0 4h2v2h-2V9zm0 4h2v2h-2v-2zm0 4h2v2h-2v-2z"/>');
		UIvisibility=0;
	} else {
		$(".midscreen").toggleClass('hiddenTop');$(".minimap").delay(300).toggle(500);
		$("#UIToggle").html('<path d="M11 11v6h6v-6h-6zm0-2h6V3h-6v6zm-2 2H3v6h6v-6zm0-2V3H3v6h6zm-8 9V1h18v18H1v-1z"/>');
		UIvisibility=1;
	}
});
//sidebar droite
$("#openAsideRight").click(function(){
	$(".asideRight").addClass('shown');
	$(".mask.light.brown").fadeIn(300);
});
$(".asideRight nav .close").click(function(){
	$(".asideRight").removeClass('shown');
	$(".mask.light.brown").fadeOut(300);
});
function makeActive(menu){
	$('.active').removeClass('active');
	$('.menus').hide(200)
	$("#openMenu"+menu).addClass('active');
	$('#menu'+menu).show(200);
	if (menu == "Options"){
		$('.asideRight').css('background-color','rgb(127, 171, 156)');
		$('.asideRight nav').css('background-color','rgb(115, 155, 145)');
	} else {
		$('.asideRight').css('background-color','#d2c6b4');
		$('.asideRight nav').css('background-color','#97907f');
	}
}
//import svg
$(".statForce .img").html(iconForce);
$(".statFesse .img").html(iconFesse);
$(".statChar .img").html(iconChar);
$(".statDex .img").html(iconDex);
$(".statSag .img").html(iconSag);
$(".statInt .img").html(iconInt);
$('#openMenuCarac').html(iconCarac);
$('#openMenuStats').html(iconStats);
$("#openMenuOptions").html(iconOptions);
$(".asideRight nav .close").html(iconClose);
$("#weaponLeftHSymbol").html(iconLeftHand);
$("#weaponRightHSymbol").html(iconRightHand);

//inv
var isInvOpen=0;
function openInventory(){
	isInvOpen=1;
	refInv();
	fullRefSel();
	$('.mask.deep.lightgrey').fadeIn(700);
	$('#InvLPane').css('left','0');
	$('#InvTRPane').css('top','0');
	$('#InvBRPane').css('bottom','0');
	if (isInvOpen == 1){
		$(".mask").click(function(){closeInventory();});
	}
}
function closeInventory(){
	isInvOpen=0;
	$('.mask.deep.lightgrey').fadeOut(700);
	$('#InvLPane').css('left','-60%');
	$('#InvTRPane').css('top','-100%');
	$('#InvBRPane').css('bottom','-100%');
}
$(document).on('keydown',function(e){
	if (e.key == 'i' && isInvOpen == 1){closeInventory(); e.key=0;}
	if (e.key == 'i' && isInvOpen == 0){openInventory(); e.key=0;}
});
</script>
<script src="js/statsvar.js"></script>
<script src="js/inventaire.js"></script>
<script src="js/images.js"></script>
<script src="js/audio.js"></script>
<script src="js/pageScripts.js"></script>
<script src="js/pageBtn.js"></script>
<script src="js/pageHistoire.js"></script>
<script src="js/inspect.js"></script>
<script src="js/dialogue.js"></script>
<script src="js/resizing.js"></script>
<script>refAll();</script>
</body>
</html>
